<h3 class="display-3">
    Direttive strutturali
</h3>
<p>Le direttive strutturali consentono di modificare in maniera dinamica il DOM (struttura) della pagina.
    E' possibile, cioè, aggiungere o togliere tag HTML utilizzando typescript.
</p>
<h4 class="display-4">if</h4>
<p>La direttiva if consente di inserire nel dom un blocco HTML se la condizione è vera, oppure
    di inserire un blocco oppure un'altro in alternativa.</p>
<p><u>Esempio 1.</u></p>
<div class="row">
    <div class="col-sm-3">
        <div>
            <button class="btn btn-primary" (click)="toggleBanner()">Mostra alert</button>
        </div>
    </div>
    <div class="col-sm-9">
        @if (visualizzaBanner()) {
            <div class="alert alert-danger" role="alert">Questo è il messaggio di errore.</div>
        }
    </div>
</div>
<p><u>Esempio 2.</u></p>
<div class="row">
    <div class="col-sm-3">
        <div>
            <button class="btn btn-primary" (click)="immagineOTesto()">Immagine/Testo</button>
        </div>
    </div>
    <div class="col-sm-9">
        @if(visualizzaImmagineOTesto() == 'immagine') {
            <img class="img-fluid img-thumbnail" src="ciao.jpg">
        }
        @else {
            <p class="lead border">Questo è il testo che viene visualizzato al posto dell'immagine.</p>
        }
    </div>
</div>
<h4 class="display-4">for</h4>
<p>Con la direttiva for è possibile aggiungere n-volte il blocco HTML definito fra le parentesi graffe.<br>
For opera sempre su un array, quindi esegue l'iterazione e inserisce il blocco per ogni elemento presente nell'array.
Se gli elementi dell'array vengono modificati o vengono aggiunti nuovi elementi, la serie di blocchi HTML viene modificata 
di conseguenza. Perché la pagina risponda ai combiamenti è necessario gestire l'array attraverso
un signal.</p>
<p><u>Esempio 3.</u></p>
<div class="row">
    <div class="col-sm-9">
        <div>
            <input class="form-control" type="text" placeholder="Nuovo nome..." #inNome>
        </div>
    </div>
    <div class="col-sm-3">
        <div>
            <button class="btn btn-primary" (click)="aggiungiNome(inNome)">Aggiungi</button>
        </div>
    </div>
</div>
<div class="my-5">
    <h4>Nomi:</h4>        
            @for(nome of nomi(); track nome) {
                <!-- Blocco da inserire per ogni elemento dell'array -->

                @if (indiceModifica() == $index) {

                    <ul class="list-group list-group-horizontal">
                        <li class="list-group-item flex-fill">
                            <input type="text" class="form-control" #inCambiaNome [value]="nome">
                        </li>
                        <li class="list-group-item"><button class="btn btn-primary" (click)="salva(inCambiaNome.value)">Salva</button></li>
                        <li class="list-group-item"><button class="btn btn-secondary" (click)="annulla()">Annulla</button></li>
                    </ul>
                }
                @else {
                    <ul class="list-group list-group-horizontal">
                        <li class="list-group-item flex-fill">{{nome}}</li>
                        <li class="list-group-item"><button class="btn btn-danger" (click)="elimina($index)">Elimina</button></li>
                        <li class="list-group-item"><button class="btn btn-success" (click)="attivaModifica($index)">Modifica</button></li>
                    </ul>
                }
            }        
</div>
<h4 class="display-4">switch</h4>
<p>La direttiva switch consente l'inserimento di un blocco HTML fra tanti
    in base al valore della variabile utilizzata per la scelta.
</p>
<p><u>Esempio 4.</u></p>
<div class="my-5">
    <div class="row">
        <div class="col">
            <div>
                <button class="btn btn-primary" (click)="switchToStudente()">Studente</button>
            </div>
        </div>
        <div class="col">
            <div>
                <button class="btn btn-primary" (click)="switchToGenitore()">Genitore</button>
            </div>
        </div>
        <div class="col">
            <div>
                <button class="btn btn-primary" (click)="switchToDocente()">Docente</button>
            </div>
        </div>
        <div class="col">
            <div>
                <button class="btn btn-primary" (click)="switchToAltro()">Altro</button>
            </div>
        </div>
    </div>
    @switch (tipoUtente()) {
        @case ('studente') {
            <!-- Blocco da inserire se tipoUtente è uguale a studente -->
             <div>
                <h1 class="display-4">Studente...</h1>
             </div>
        }
        @case ('genitore') {
            <!-- Blocco da inserire se tipoUtente è uguale a studente -->
             <div>
                <h1 class="display-4">Genitore...</h1>
                <p>Calendario udienze...</p>
             </div>
        }
        @case ('docente') {
            <!-- Blocco da inserire se tipoUtente è uguale a studente -->
             <div>
                <h1 class="display-4">Docente...</h1>
                <p>Registro...</p>
             </div>
        }
        @default {
             <!-- Blocco inserito in tutti gli altri casi -->
              <div>
                <h1 class="display-4">Tipo utente non riconosciuto...</h1>
              </div>
        }

    }
    
</div>